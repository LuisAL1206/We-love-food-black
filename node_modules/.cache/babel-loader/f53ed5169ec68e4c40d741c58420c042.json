{"ast":null,"code":"import _defineProperty from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/AL1206/Desktop/35_frontend/b35-frontend/src/views/Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n\\n    mutation LOGIN($email: EmailAddress!,$password: String!) {\\n        login(email: $email, password: $password){\\n            token\\n        }\\n    }\\n\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { useMutation } from 'react-apollo-hooks';\nimport gql from 'graphql-tag';\nimport Layout from '../common/Layout';\nimport Input from '../common/Input';\nimport useForm from '../hooks/useForm';\nconst LOGIN_MUTATION = gql(_templateObject());\n\nfunction Login({\n  history\n}) {\n  const _useMutation = useMutation(LOGIN_MUTATION),\n        _useMutation2 = _slicedToArray(_useMutation, 1),\n        sendLogin = _useMutation2[0];\n\n  const catchData = async inputs => {\n    // {variables: { email: \"\", password:\"\"}}\n    const _ref = await sendLogin({\n      variables: _objectSpread({}, inputs)\n    }),\n          data = _ref.data,\n          errors = _ref.errors;\n\n    if (data) {\n      const login = data.login;\n      localStorage.setItem('blogToken', login.token);\n      history.push('/');\n    }\n\n    if (errors) alert(\"Error con tu login \".concat(errors));\n  };\n\n  const _useForm = useForm(catchData),\n        inputs = _useForm.inputs,\n        handleSubmit = _useForm.handleSubmit,\n        handleInputChange = _useForm.handleInputChange;\n\n  return React.createElement(React.Fragment, null, React.createElement(Layout, {\n    head: \"Inicia sesi\\xF3n.\",\n    subhead: \"Es hora de cumplir tus antojos.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      background: 'rgba(255, 255, 255, 0.8)'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-10 mx-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Input, {\n    name: \"email\",\n    label: \"Email: \",\n    type: \"text\",\n    placeholder: \"Escribe tu email\",\n    value: inputs.email,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"password\",\n    label: \"Password: \",\n    type: \"password\",\n    placeholder: \"Escribe tu password\",\n    value: inputs.password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"clearfix mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary float-right\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Entrar\"))))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/AL1206/Desktop/35_frontend/b35-frontend/src/views/Login.js"],"names":["React","useMutation","gql","Layout","Input","useForm","LOGIN_MUTATION","Login","history","sendLogin","catchData","inputs","variables","data","errors","login","localStorage","setItem","token","push","alert","handleSubmit","handleInputChange","background","email","password"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,MAAMC,cAAc,GAAGJ,GAAH,mBAApB;;AAUA,SAASK,KAAT,CAAe;AAACC,EAAAA;AAAD,CAAf,EAAyB;AAAA,uBACDP,WAAW,CAACK,cAAD,CADV;AAAA;AAAA,QACdG,SADc;;AAGrB,QAAMC,SAAS,GAAG,MAAMC,MAAN,IAAgB;AAC9B;AAD8B,iBAEP,MAAMF,SAAS,CAAC;AAACG,MAAAA,SAAS,oBAAKD,MAAL;AAAV,KAAD,CAFR;AAAA,UAEvBE,IAFuB,QAEvBA,IAFuB;AAAA,UAEjBC,MAFiB,QAEjBA,MAFiB;;AAG9B,QAAID,IAAJ,EAAU;AAAA,YACEE,KADF,GACYF,IADZ,CACEE,KADF;AAENC,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,KAAK,CAACG,KAAxC;AACAV,MAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACH;;AACD,QAAGL,MAAH,EAAWM,KAAK,8BAAuBN,MAAvB,EAAL;AACd,GATD;;AAHqB,mBAkBjBT,OAAO,CAACK,SAAD,CAlBU;AAAA,QAejBC,MAfiB,YAejBA,MAfiB;AAAA,QAgBjBU,YAhBiB,YAgBjBA,YAhBiB;AAAA,QAiBjBC,iBAjBiB,YAiBjBA,iBAjBiB;;AAoBrB,SAAO,0CACH,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAG,mBAAf;AACA,IAAA,OAAO,EAAG,iCADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEF,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACA,IAAA,IAAI,EAAC,OADL;AAEA,IAAA,KAAK,EAAC,SAFN;AAGA,IAAA,IAAI,EAAC,MAHL;AAIA,IAAA,WAAW,EAAC,kBAJZ;AAKA,IAAA,KAAK,EAAEV,MAAM,CAACa,KALd;AAMA,IAAA,MAAM,EAAEF,iBANR;AAOA,IAAA,QAAQ,EAAE,IAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAUI,oBAAC,KAAD;AACA,IAAA,IAAI,EAAC,UADL;AAEA,IAAA,KAAK,EAAC,YAFN;AAGA,IAAA,IAAI,EAAC,UAHL;AAIA,IAAA,WAAW,EAAC,qBAJZ;AAKA,IAAA,KAAK,EAAEX,MAAM,CAACc,QALd;AAMA,IAAA,MAAM,EAAEH,iBANR;AAOA,IAAA,QAAQ,EAAE,IAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,EAmBA;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,6BAAlB;AAAgD,IAAA,IAAI,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAnBA,CADJ,CADA,CADJ,CAFA,CADG,CAAP;AAoCH;;AAED,eAAef,KAAf","sourcesContent":["import React from 'react';\nimport { useMutation } from 'react-apollo-hooks';\nimport gql from 'graphql-tag';\nimport Layout from '../common/Layout';\nimport Input from '../common/Input'\nimport useForm from '../hooks/useForm';\n\nconst LOGIN_MUTATION = gql`\n\n    mutation LOGIN($email: EmailAddress!,$password: String!) {\n        login(email: $email, password: $password){\n            token\n        }\n    }\n\n`;\n\nfunction Login({history}){\n    const [sendLogin] = useMutation(LOGIN_MUTATION);\n\n    const catchData = async(inputs) =>{\n        // {variables: { email: \"\", password:\"\"}}\n        const {data, errors} = await sendLogin({variables:{...inputs}});\n        if (data) {\n            const { login } = data;\n            localStorage.setItem('blogToken', login.token);\n            history.push('/');\n        }\n        if(errors) alert(`Error con tu login ${errors}`);\n    }\n\n     const {\n        inputs,\n        handleSubmit,\n        handleInputChange,\n    } = useForm(catchData);\n\n    return(<>\n        <Layout head = \"Inicia sesiÃ³n.\"\n        subhead = \"Es hora de cumplir tus antojos.\" >\n        <div className=\"container\">\n            <div className=\"row\" style={{ background: 'rgba(255, 255, 255, 0.8)'}}>\n            <div className=\"col-lg-8 col-md-10 mx-auto\">\n                <form onSubmit={handleSubmit}>\n                    <Input\n                    name=\"email\"\n                    label=\"Email: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu email\"\n                    value={inputs.email}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"password\"\n                    label=\"Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe tu password\"\n                    value={inputs.password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                <div className=\"clearfix mt-4\">\n                    <button className=\"btn btn-primary float-right\" type=\"submit\">\n                        Entrar \n                        </button>\n                </div>\n                </form>\n            </div>\n            </div>\n        </div>\n        </Layout>\n    </>);\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}