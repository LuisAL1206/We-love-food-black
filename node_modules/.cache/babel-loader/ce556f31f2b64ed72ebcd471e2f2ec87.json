{"ast":null,"code":"import _defineProperty from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/AL1206/Desktop/35_frontend/b35-frontend/src/views/Signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n\\n    mutation AddAuthor($data:AuthorInput!){\\n        createNewAuthor(data:$data){\\n            _id,\\n            email\\n            first_name\\n        }\\n    }\\n\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { useMutation } from 'react-apollo-hooks';\nimport gql from 'graphql-tag';\nimport Layout from '../common/Layout';\nimport Input from '../common/Input';\nimport useForm from '../hooks/useForm';\nconst CREATE_MUTATION = gql(_templateObject());\n\nfunction Signup({\n  history\n}) {\n  const _useMutation = useMutation(CREATE_MUTATION),\n        _useMutation2 = _slicedToArray(_useMutation, 1),\n        sendSignup = _useMutation2[0];\n\n  const catchData = async inputs => {\n    if (inputs.password === inputs.confirm_password) {\n      delete inputs.confirm_password;\n      console.log(inputs);\n\n      const _ref = await sendSignup({\n        variables: {\n          data: _objectSpread({}, inputs)\n        }\n      }),\n            data = _ref.data;\n\n      if (data) {\n        if (data.errors) console.log(data.errors);\n        history.push('/login');\n      }\n    } else {\n      alert('Tu contraseña no coincide.');\n    }\n  };\n\n  const _useForm = useForm(catchData),\n        inputs = _useForm.inputs,\n        handleSubmit = _useForm.handleSubmit,\n        handleInputChange = _useForm.handleInputChange;\n\n  return React.createElement(React.Fragment, null, React.createElement(Layout, {\n    head: \"Crea tu cuenta.\",\n    subhead: \"Comencemos a cumplir tus antojos, crea una cuenta con nosotros.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-10 mx-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Input, {\n    name: \"first_name\",\n    label: \"Nombre: \",\n    type: \"text\",\n    placeholder: \"Escribe tu nombre\",\n    value: inputs.first_name,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"last_name\",\n    label: \"Apellido: \",\n    type: \"text\",\n    placeholder: \"Escribe tu apellido\",\n    value: inputs.last_name,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"email\",\n    label: \"Email: \",\n    type: \"text\",\n    placeholder: \"Escribe tu email\",\n    value: inputs.email,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"password\",\n    label: \"Password: \",\n    type: \"password\",\n    placeholder: \"Escribe tu password\",\n    value: inputs.password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"confirm_password\",\n    label: \"Confirma tu Password: \",\n    type: \"password\",\n    placeholder: \"Escribe de nuevo tu password\",\n    value: inputs.confirm_password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"adress\",\n    label: \"Ingresa tu direccion: \",\n    type: \"text\",\n    placeholder: \"Ingresa tu calle y numero exterior\",\n    value: inputs.confirm_password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"cp\",\n    label: \"Confirma tu Password: \",\n    type: \"password\",\n    placeholder: \"Escribe de nuevo tu password\",\n    value: inputs.confirm_password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Input, {\n    name: \"confirm_password\",\n    label: \"Confirma tu Password: \",\n    type: \"password\",\n    placeholder: \"Escribe de nuevo tu password\",\n    value: inputs.confirm_password,\n    change: handleInputChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"clearfix mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary float-right\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Registrar\"))))))));\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/AL1206/Desktop/35_frontend/b35-frontend/src/views/Signup.js"],"names":["React","useMutation","gql","Layout","Input","useForm","CREATE_MUTATION","Signup","history","sendSignup","catchData","inputs","password","confirm_password","console","log","variables","data","errors","push","alert","handleSubmit","handleInputChange","first_name","last_name","email"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useMutation } from 'react-apollo-hooks';\nimport gql from 'graphql-tag';\nimport Layout from '../common/Layout';\nimport Input from '../common/Input'\nimport useForm from '../hooks/useForm';\n\nconst CREATE_MUTATION = gql`\n\n    mutation AddAuthor($data:AuthorInput!){\n        createNewAuthor(data:$data){\n            _id,\n            email\n            first_name\n        }\n    }\n\n`;\n\nfunction Signup({history}) {\n\n    const [sendSignup] = useMutation(CREATE_MUTATION);\n\n    const catchData = async (inputs) => {\n        if ( inputs.password === inputs.confirm_password){\n            delete inputs.confirm_password;\n            console.log(inputs);\n            const { data } = await sendSignup({variables:{data:{...inputs}}});\n            if(data){\n                if(data.errors) console.log(data.errors);\n                history.push('/login');\n            }\n        } else {\n            alert('Tu contraseña no coincide.');\n        }\n    }\n\n    const {\n        inputs,\n        handleSubmit,\n        handleInputChange,\n    } = useForm(catchData);\n\n    return(<>\n        <Layout head = \"Crea tu cuenta.\"\n        subhead = \"Comencemos a cumplir tus antojos, crea una cuenta con nosotros.\" >\n        <div className=\"container\">\n            <div className=\"row\">\n            <div className=\"col-lg-8 col-md-10 mx-auto\">\n                <form onSubmit={handleSubmit}>\n                    <Input\n                    name=\"first_name\"\n                    label=\"Nombre: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu nombre\"\n                    value={inputs.first_name}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"last_name\"\n                    label=\"Apellido: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu apellido\"\n                    value={inputs.last_name}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"email\"\n                    label=\"Email: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu email\"\n                    value={inputs.email}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"password\"\n                    label=\"Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe tu password\"\n                    value={inputs.password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"confirm_password\"\n                    label=\"Confirma tu Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe de nuevo tu password\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                     <Input\n                    name=\"adress\"\n                    label=\"Ingresa tu direccion: \"\n                    type=\"text\"\n                    placeholder=\"Ingresa tu calle y numero exterior\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                     <Input\n                    name=\"cp\"\n                    label=\"Confirma tu Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe de nuevo tu password\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                     <Input\n                    name=\"confirm_password\"\n                    label=\"Confirma tu Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe de nuevo tu password\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                <div className=\"clearfix mt-4\">\n                    <button className=\"btn btn-primary float-right\" type=\"submit\">\n                        Registrar \n                        </button>\n                </div>\n                </form>\n            </div>\n            </div>\n        </div>\n        </Layout>\n    </>);\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}