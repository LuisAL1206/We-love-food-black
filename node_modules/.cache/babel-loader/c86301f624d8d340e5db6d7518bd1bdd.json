{"ast":null,"code":"import _regeneratorRuntime from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\\n    mutation AddAuthor($data:AuthorInput!){\\n        createNewAuthor(data:$data){\\n            _id,\\n            email\\n            first_name\\n        }\\n    }\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import{useMutation}from'react-apollo-hooks';import gql from'graphql-tag';import Layout from'../common/Layout';import Input from'../common/Input';import useForm from'../hooks/useForm';var CREATE_MUTATION=gql(_templateObject());function Signup(_ref){var history=_ref.history;var _useMutation=useMutation(CREATE_MUTATION),_useMutation2=_slicedToArray(_useMutation,1),sendSignup=_useMutation2[0];var catchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inputs){var _ref3,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(inputs.password===inputs.confirm_password)){_context.next=10;break;}delete inputs.confirm_password;console.log(inputs);_context.next=5;return sendSignup({variables:{data:_objectSpread({},inputs)}});case 5:_ref3=_context.sent;data=_ref3.data;if(data){if(data.errors)console.log(data.errors);history.push('/login');}_context.next=11;break;case 10:alert('Tu contraseña no coincide.');case 11:case\"end\":return _context.stop();}}},_callee);}));return function catchData(_x){return _ref2.apply(this,arguments);};}();var _useForm=useForm(catchData),inputs=_useForm.inputs,handleSubmit=_useForm.handleSubmit,handleInputChange=_useForm.handleInputChange;return React.createElement(React.Fragment,null,React.createElement(Layout,{head:\"Crea tu cuenta.\",subhead:\"Comencemos a cumplir tus antojos, crea una cuenta con nosotros.\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-lg-8 col-md-10 mx-auto\"},React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(Input,{name:\"first_name\",label:\"Nombre: \",type:\"text\",placeholder:\"Escribe tu nombre\",value:inputs.first_name,change:handleInputChange,required:true}),React.createElement(Input,{name:\"last_name\",label:\"Apellido: \",type:\"text\",placeholder:\"Escribe tu apellido\",value:inputs.last_name,change:handleInputChange,required:true}),React.createElement(Input,{name:\"email\",label:\"Email: \",type:\"text\",placeholder:\"Escribe tu email\",value:inputs.email,change:handleInputChange,required:true}),React.createElement(Input,{name:\"password\",label:\"Password: \",type:\"password\",placeholder:\"Escribe tu password\",value:inputs.password,change:handleInputChange,required:true}),React.createElement(Input,{name:\"confirm_password\",label:\"Confirma tu Password: \",type:\"password\",placeholder:\"Escribe de nuevo tu password\",value:inputs.confirm_password,change:handleInputChange,required:true}),React.createElement(Input,{name:\"birth_date\",label:\"Fecha de nacimiento \",type:\"Date\",placeholder:\"Ingresa tu fecha de nacimiento\",value:inputs.birth_date,change:handleInputChange,required:true}),React.createElement(Input,{name:\"gender\",label:\"Genero\",type:\"String\",placeholder:\"Genero\",value:inputs.gender,change:handleInputChange,required:true}),React.createElement(Input,{name:\"addres\",label:\"Ingresa tu direccion: \",type:\"text\",placeholder:\"Ingresa tu calle y numero exterior\",value:inputs.addres,change:handleInputChange,required:true}),React.createElement(Input,{name:\"cp\",label:\"Codigo Postal \",type:\"Number\",placeholder:\"CP:00000\",value:inputs.confirm_password,change:handleInputChange,required:true}),React.createElement(Input,{name:\"Numero de celular\",label:\"Ingresa tu numero de celular \",type:\"Number\",placeholder:\"Ingrea un numero donde podamos contactarte\",value:inputs.confirm_password,change:handleInputChange,required:true}),React.createElement(\"div\",{className:\"clearfix mt-4\"},React.createElement(\"button\",{className:\"btn btn-primary float-right\",type:\"submit\"},\"Registrar\"))))))));}export default Signup;","map":{"version":3,"sources":["/Users/AL1206/Desktop/35_frontend/b35-frontend/src/views/Signup.js"],"names":["React","useMutation","gql","Layout","Input","useForm","CREATE_MUTATION","Signup","history","sendSignup","catchData","inputs","password","confirm_password","console","log","variables","data","errors","push","alert","handleSubmit","handleInputChange","first_name","last_name","email","birth_date","gender","addres"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useMutation } from 'react-apollo-hooks';\nimport gql from 'graphql-tag';\nimport Layout from '../common/Layout';\nimport Input from '../common/Input'\nimport useForm from '../hooks/useForm';\n\nconst CREATE_MUTATION = gql`\n\n    mutation AddAuthor($data:AuthorInput!){\n        createNewAuthor(data:$data){\n            _id,\n            email\n            first_name\n        }\n    }\n\n`;\n\nfunction Signup({history}) {\n\n    const [sendSignup] = useMutation(CREATE_MUTATION);\n\n    const catchData = async (inputs) => {\n        if ( inputs.password === inputs.confirm_password){\n            delete inputs.confirm_password;\n            console.log(inputs);\n            const { data } = await sendSignup({variables:{data:{...inputs}}});\n            if(data){\n                if(data.errors) console.log(data.errors);\n                history.push('/login');\n            }\n        } else {\n            alert('Tu contraseña no coincide.');\n        }\n    }\n\n    const {\n        inputs,\n        handleSubmit,\n        handleInputChange,\n    } = useForm(catchData);\n\n    return(<>\n        <Layout head = \"Crea tu cuenta.\"\n        subhead = \"Comencemos a cumplir tus antojos, crea una cuenta con nosotros.\" >\n        <div className=\"container\">\n            <div className=\"row\">\n            <div className=\"col-lg-8 col-md-10 mx-auto\">\n                <form onSubmit={handleSubmit}>\n                    <Input\n                    name=\"first_name\"\n                    label=\"Nombre: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu nombre\"\n                    value={inputs.first_name}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"last_name\"\n                    label=\"Apellido: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu apellido\"\n                    value={inputs.last_name}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"email\"\n                    label=\"Email: \"\n                    type=\"text\"\n                    placeholder=\"Escribe tu email\"\n                    value={inputs.email}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"password\"\n                    label=\"Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe tu password\"\n                    value={inputs.password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"confirm_password\"\n                    label=\"Confirma tu Password: \"\n                    type=\"password\"\n                    placeholder=\"Escribe de nuevo tu password\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"birth_date\"\n                    label=\"Fecha de nacimiento \"\n                    type=\"Date\"\n                    placeholder=\"Ingresa tu fecha de nacimiento\"\n                    value={inputs.birth_date}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"gender\"\n                    label=\"Genero\"\n                    type=\"String\"\n                    placeholder=\"Genero\"\n                    value={inputs.gender}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                    <Input\n                    name=\"addres\"\n                    label=\"Ingresa tu direccion: \"\n                    type=\"text\"\n                    placeholder=\"Ingresa tu calle y numero exterior\"\n                    value={inputs.addres}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                     <Input\n                    name=\"cp\"\n                    label=\"Codigo Postal \"\n                    type=\"Number\"\n                    placeholder=\"CP:00000\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                     <Input\n                    name=\"Numero de celular\"\n                    label=\"Ingresa tu numero de celular \"\n                    type=\"Number\"\n                    placeholder=\"Ingrea un numero donde podamos contactarte\"\n                    value={inputs.confirm_password}\n                    change={handleInputChange}\n                    required={true}\n                    ></Input>\n                <div className=\"clearfix mt-4\">\n                    <button className=\"btn btn-primary float-right\" type=\"submit\">\n                        Registrar \n                        </button>\n                </div>\n                </form>\n            </div>\n            </div>\n        </div>\n        </Layout>\n    </>);\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}