{"ast":null,"code":"import _defineProperty from\"/Users/AL1206/Desktop/35_frontend/b35-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{ApolloClient}from'apollo-client';// import { createHttpLink } from 'apollo-link-http';\nimport{createUploadLink}from'apollo-upload-client';import{setContext}from'apollo-link-context';import{InMemoryCache}from'apollo-cache-inmemory';var API_URL=process.env.REACT_API_URL||'https://back-35.herokuapp.com/'/* 'https://afternoon-scrubland-50224.herokuapp.com/' */;var httpLink=createUploadLink({uri:API_URL});var authLink=setContext(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('blogToken');var context={headers:_objectSpread({},headers)};if(token)context.headers['authorization']=\"JWT \".concat(token);return context;});export default new ApolloClient({link:authLink.concat(httpLink),cache:new InMemoryCache()});","map":{"version":3,"sources":["/Users/AL1206/Desktop/35_frontend/b35-frontend/src/graphql.js"],"names":["ApolloClient","createUploadLink","setContext","InMemoryCache","API_URL","process","env","REACT_API_URL","httpLink","uri","authLink","_","headers","token","localStorage","getItem","context","link","concat","cache"],"mappings":"m7BAAA,OAASA,YAAT,KAA6B,eAA7B,CACA;AACA,OAASC,gBAAT,KAAiC,sBAAjC,CACA,OAASC,UAAT,KAA0B,qBAA1B,CACA,OAASC,aAAT,KAA8B,uBAA9B,CAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,aAAZ,EAA6B,gCAAkC,wDAA/E,CAEA,GAAMC,CAAAA,QAAQ,CAAGP,gBAAgB,CAAC,CAC9BQ,GAAG,CAAEL,OADyB,CAAD,CAAjC,CAIA,GAAMM,CAAAA,QAAQ,CAAGR,UAAU,CAAC,SAACS,CAAD,MAAoB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC5C,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd,CACA,GAAMC,CAAAA,OAAO,CAAG,CACZJ,OAAO,kBACAA,OADA,CADK,CAAhB,CAKA,GAAIC,KAAJ,CAAWG,OAAO,CAACJ,OAAR,CAAgB,eAAhB,gBAA0CC,KAA1C,EACX,MAAOG,CAAAA,OAAP,CACH,CAT0B,CAA3B,CAWA,cAAe,IAAIhB,CAAAA,YAAJ,CAAiB,CAC5BiB,IAAI,CAAEP,QAAQ,CAACQ,MAAT,CAAgBV,QAAhB,CADsB,CAE5BW,KAAK,CAAE,GAAIhB,CAAAA,aAAJ,EAFqB,CAAjB,CAAf","sourcesContent":["import { ApolloClient } from 'apollo-client';\n// import { createHttpLink } from 'apollo-link-http';\nimport { createUploadLink } from 'apollo-upload-client'\nimport { setContext} from 'apollo-link-context';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\nconst API_URL = process.env.REACT_API_URL || 'https://back-35.herokuapp.com/'  /* 'https://afternoon-scrubland-50224.herokuapp.com/' */;\n\nconst httpLink = createUploadLink({\n    uri: API_URL,\n});\n\nconst authLink = setContext((_, { headers }) => {\n    const token = localStorage.getItem('blogToken');\n    const context = {\n        headers: {\n            ...headers,\n        },\n    }\n    if (token) context.headers['authorization'] = `JWT ${token}`;\n    return context;\n});\n\nexport default new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache(),\n});\n"]},"metadata":{},"sourceType":"module"}